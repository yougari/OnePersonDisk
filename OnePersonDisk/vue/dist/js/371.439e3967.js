"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[371],{7371:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("div",{staticStyle:{position:"relative",width:"400px",padding:"30px","box-shadow":"0 0 10px rgba(0,0,0,.2)","background-color":"white","border-radius":"5px"}},[e.slideverifyShow?t("div",{staticStyle:{position:"absolute","background-color":"white","z-index":"999",top:"65px"}},[t("slide-verify",{ref:"slideVerifyRef",attrs:{l:42,r:10,w:350,h:155,accuracy:5,imgs:e.imgs,"slider-text":"向右滑动"},on:{success:e.onSuccess}})],1):e._e(),t("div",{staticStyle:{"text-align":"center","font-size":"20px","font-weight":"bold","margin-bottom":"30px",color:"#333"}},[e._v("欢迎登录")]),t("el-form",{ref:"formRef",attrs:{model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-user",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{attrs:{"prefix-icon":"el-icon-lock",placeholder:"请输入密码","show-password":""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),t("el-form-item",{attrs:{prop:"role"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"medium"},model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},[t("el-option",{attrs:{value:"ADMIN",label:"管理员"}}),t("el-option",{attrs:{value:"USER",label:"用户"}})],1)],1),t("el-form-item",[t("el-button",{staticStyle:{width:"100%","background-color":"#2a60c9","border-color":"#2a60c9",color:"white"},on:{click:e.login}},[e._v("登 录")])],1),t("div",{staticStyle:{display:"flex","align-items":"center"}},[t("div",{staticStyle:{flex:"1"}}),t("div",{staticStyle:{flex:"1","text-align":"right"}},[e._v(" 还没有账号？请 "),t("a",{attrs:{href:"/register"}},[e._v("注册")])])])],1)],1)])},s=[],i={name:"Login",data(){return{form:{role:"ADMIN"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},imgs:[r(20),r(5894),r(4026)],slideverifyShow:!1}},created(){},methods:{onSuccess(){this.$request.post("/login",this.form).then((e=>{"200"===e.code?(localStorage.setItem("xm-user",JSON.stringify(e.data)),this.$message.success("登录成功"),setTimeout((()=>{"ADMIN"===e.data.role?location.href="/home":location.href="/front/home?category=all"}),500)):this.$message.error(e.msg)}))},login(){this.$refs["formRef"].validate((e=>{e&&(this.slideverifyShow=!0)}))}}},l=i,a=r(3736),n=(0,a.Z)(l,o,s,!1,null,"4d874da1",null),c=n.exports},20:function(e,t,r){e.exports=r.p+"img/1.612f51df.jpg"},5894:function(e,t,r){e.exports=r.p+"img/2.b9e0a2dd.jpg"},4026:function(e,t,r){e.exports=r.p+"img/3.2cf64bea.jpg"}}]);
//# sourceMappingURL=371.439e3967.js.map